(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{106:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(0),r=a.n(n);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var d=r.a.createContext({}),u=function(e){var t=r.a.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},o=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,c=e.parentName,d=b(e,["components","mdxType","originalType","parentName"]),o=u(a),m=n,O=o["".concat(c,".").concat(m)]||o[m]||p[m]||l;return a?r.a.createElement(O,i(i({ref:t},d),{},{components:a})):r.a.createElement(O,i({ref:t},d))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,c=new Array(l);c[0]=o;var i={};for(var b in t)hasOwnProperty.call(t,b)&&(i[b]=t[b]);i.originalType=e,i.mdxType="string"==typeof e?e:n,c[1]=i;for(var d=2;d<l;d++)c[d]=a[d];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,a)}o.displayName="MDXCreateElement"},107:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c}));var n=a(22),r=a(108);function l(){var e=Object(n.default)().siteConfig,t=(e=void 0===e?{}:e).baseUrl,a=void 0===t?"/":t,l=e.url;return{withBaseUrl:function(e,t){return function(e,t,a,n){var l=void 0===n?{}:n,c=l.forcePrependBaseUrl,i=void 0!==c&&c,b=l.absolute,d=void 0!==b&&b;if(!a)return a;if(a.startsWith("#"))return a;if(Object(r.b)(a))return a;if(i)return t+a;var u=a.startsWith(t)?a:t+a.replace(/^\//,"");return d?e+u:u}(l,a,e,t)}}}function c(e,t){return void 0===t&&(t={}),(0,l().withBaseUrl)(e,t)}},108:function(e,t,a){"use strict";function n(e){return!0===/^(\w*:|\/\/)/.test(e)}function r(e){return void 0!==e&&!n(e)}a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}))},111:function(e,t,a){"use strict";var n=a(3),r=a(0),l=a.n(r);t.a=function(e){var t=e.children,a=e.hidden,r=e.className;return l.a.createElement("div",Object(n.a)({role:"tabpanel"},{hidden:a,className:r}),t)}},78:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return i})),a.d(t,"rightToc",(function(){return b})),a.d(t,"default",(function(){return o}));var n=a(3),r=(a(0),a(106)),l=a(111);a(107);const c={id:"direct-order-api",title:"Direct Order API"},i={unversionedId:"direct-order-api",id:"direct-order-api",isDocsHomePage:!1,title:"Direct Order API",description:"This guide explains how to create direct order through API call .",source:"@site/docs/direct_order_api.mdx",slug:"/direct-order-api",permalink:"/docs/direct-order-api",version:"current",sidebar:"docs",previous:{title:"Create Community API",permalink:"/docs/create-community-API"},next:{title:"Refund API",permalink:"/docs/refund-api"}},b=[{value:"REQUEST",id:"request",children:[{value:"testing server:",id:"testing-server",children:[]},{value:"production(Live) server:",id:"productionlive-server",children:[]}]},{value:"Parameters",id:"parameters",children:[{value:"Authorization",id:"authorization",children:[]}]},{value:"Request body",id:"request-body",children:[{value:"Required Properties",id:"required-properties-1",children:[]},{value:"Optional Properties",id:"optional-properties",children:[]}]},{value:"Response",id:"response",children:[]},{value:"Example",id:"example",children:[{value:"Recurring Payment",id:"recurring-payment",children:[]}]},{value:"Payment Options",id:"payment-options",children:[]},{value:"Custom Fields",id:"custom-fields",children:[{value:"Example",id:"example-1",children:[]},{value:"Request body",id:"request-body-1",children:[]},{value:"Redirect Url",id:"redirect-url",children:[]},{value:"Callback url",id:"callback-url",children:[]}]}],d=(u="Tabs",function(e){return console.warn("Component "+u+" was not imported, exported, or provided by MDXProvider as global scope"),Object(r.a)("div",e)});var u;const p={rightToc:b};function o({components:e,...t}){return Object(r.a)("wrapper",Object(n.a)({},p,t,{components:e,mdxType:"MDXLayout"}),Object(r.a)("p",null,"This guide explains how to create direct order through API call .\nAfter calling the API successfully the user will be notified by email and/or SMS (according to API parameters)."),Object(r.a)("h2",{id:"request"},"REQUEST"),Object(r.a)("h3",{id:"testing-server"},"testing server:"),Object(r.a)("pre",null,Object(r.a)("code",Object(n.a)({parentName:"pre"},{}),"POST https://staging.xpay.app/api/orders/create-direct-order/\n")),Object(r.a)("h3",{id:"productionlive-server"},"production(Live) server:"),Object(r.a)("pre",null,Object(r.a)("code",Object(n.a)({parentName:"pre"},{}),"POST https://community.xpay.app/api/orders/create-direct-order/\n")),Object(r.a)("h2",{id:"parameters"},"Parameters"),Object(r.a)("h3",{id:"authorization"},"Authorization"),Object(r.a)("p",null,"This method requires authorization, supply the header with a key value pair with that structure"),Object(r.a)("pre",null,Object(r.a)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'"x-api-key" : string\n')),Object(r.a)("h4",{id:"required-properties"},"Required Properties"),Object(r.a)("table",null,Object(r.a)("thead",{parentName:"table"},Object(r.a)("tr",{parentName:"thead"},Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Property name"),Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Value"),Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"),Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Notes"))),Object(r.a)("tbody",{parentName:"table"},Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"x-api-key"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"API key linked to your community"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.a)("a",Object(n.a)({parentName:"td"},{href:"api-key"}),"generate API key"))))),Object(r.a)("p",null,"\u200b"),Object(r.a)("h2",{id:"request-body"},"Request body"),Object(r.a)("h3",{id:"required-properties-1"},"Required Properties"),Object(r.a)("table",null,Object(r.a)("thead",{parentName:"table"},Object(r.a)("tr",{parentName:"thead"},Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Property name"),Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Value"),Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"),Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Notes"))),Object(r.a)("tbody",{parentName:"table"},Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"name"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"direct order's name"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"community_id"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"ID that is uniques to your community"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"amount.amount"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"float"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"represents the amount you want to charge the user"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"if your community fees is Added in bill then use the value returned from ",Object(r.a)("a",Object(n.a)({parentName:"td"},{href:"prepare-amount"}),"prepare amount endpoint")," , otherwise use the amount you want to charge the user directly.")),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"amount.currency"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"Currency"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),'supported currencies are "EGP", "USD", "EUR", "SAR", "AED" and "GBP". default is "EGP"')),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"payment_methods"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"array"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"allowed payment methods."),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.a)("a",Object(n.a)({parentName:"td"},{href:"#payment-options"}),"see payment available payment methods"))),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"customer_name"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"user first and last name"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"must contain first and last name in ",Object(r.a)("strong",{parentName:"td"},"english letters")," with space between them.")),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"customer_email"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"user email"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"customer_mobile"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"user phone number"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.a)("strong",{parentName:"td"},"must contain country code")," prefixed")))),Object(r.a)("div",{className:"admonition admonition-danger alert alert--danger"},Object(r.a)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.a)("h5",{parentName:"div"},Object(r.a)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.a)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(r.a)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})))),"danger")),Object(r.a)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.a)("p",{parentName:"div"},"Hardcoding the customer data in the production version of your app will raise a risk in the payment processor and the transaction will be declined"))),Object(r.a)("h3",{id:"optional-properties"},"Optional Properties"),Object(r.a)("table",null,Object(r.a)("thead",{parentName:"table"},Object(r.a)("tr",{parentName:"thead"},Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Property name"),Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Value"),Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"),Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Notes"))),Object(r.a)("tbody",{parentName:"table"},Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"discount_amount.amount"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"float"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"will be subtracted from the amount"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"discount_amount.currency"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),'supported  "EGP", "USD", "EUR", "SAR", "AED" and "GBP".'),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),'default is "EGP"')),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"allow_recurring_payments"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"boolean"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"Change from regular to reccuring payment"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"Needed if your payment is recurring")),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"expiry_date"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"Expiry Date of the reccuring payment"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"Needed if your payment is recurring")),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"minimum_days_between_payments"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"integer"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"Number of days between each payment"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"Needed if your payment is recurring")),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"custom_fields"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"array"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.a)("a",Object(n.a)({parentName:"td"},{href:"#custom-fields"}),"Custom Fields")),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"order_description"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"Order description"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"address"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"billing address"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"customer_title"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"Customer title used when sending notification."),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"e.g. Mr, Mrs, Doctor,... etc.")),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"vat_percentage"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"float"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"The percentage will be calculated and added to the amount."),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"will show in the payment pages as a separate entity titled VAT")),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"send_by_email"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"boolean"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"If true notify customer by email ."),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"cc_email"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"CC email in case of email sent."),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"send_by_sms"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"boolean"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"If true notify customer by mobile."),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"redirect_url"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.a)("a",Object(n.a)({parentName:"td"},{href:"#redirect_url"}),"redirect url")),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"callback_url"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.a)("a",Object(n.a)({parentName:"td"},{href:"#callback_url"}),"callback url")),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"paid"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"boolean"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"default false"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"May be use in case of recurring payment and you want to mark the first payment as paid.")),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"tags"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"payment tags ",Object(r.a)("a",Object(n.a)({parentName:"td"},{href:"#example"}),"see the example below")),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}))))),Object(r.a)("h2",{id:"response"},"Response"),Object(r.a)("p",null,"If successful, this method returns a response body with the following structure:"),Object(r.a)("pre",null,Object(r.a)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'{\n    "status": {\n        "code": 201,\n        "message": "success",\n        "errors": []\n    },\n    "data": {\n        "success": true,\n        "merchant_id": "xL4rPB7",\n        "payment_id": "1BlbR48",\n        "payment_link": "https://staging-iframe.xpay.app/i/community/xL4rPB7/direct-order/1BlbR48",\n        "message": "Direct order created successfully. SMS and email notifications sent."\n    },\n    "count": null,\n    "next": null,\n    "previous": null\n}\n')),Object(r.a)("table",null,Object(r.a)("thead",{parentName:"table"},Object(r.a)("tr",{parentName:"thead"},Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Property name"),Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Value"),Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"),Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Notes"))),Object(r.a)("tbody",{parentName:"table"},Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"merchant_id"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"Merchant's id"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"Same as the community_id which sent in the request.")),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"payment_id"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"Direct order's unique id"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"payment_link"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"Payment Link"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}))))),Object(r.a)("h2",{id:"example"},"Example"),Object(r.a)(d,{defaultValue:"request",values:[{label:"Request Body",value:"request"},{label:"Response Body",value:"response"}],mdxType:"Tabs"},Object(r.a)(l.a,{value:"request",mdxType:"TabItem"},Object(r.a)("pre",null,Object(r.a)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'{\n    "name": "Monthly rent",\n    "address": "123 Main St, City",\n    "order_description": "Monthly rent payment", \n    "customer_title": "Mr.", \n    "customer_name": "Mahmoud mmm", \n    "customer_email": "test@example.com", \n    "allow_recurring_payments": false, \n    "customer_mobile": "+201223456789", \n    "cc_email": "cc@example.com", \n    "amount": {\n        "amount": 100.0,\n        "currency": "EGP"\n    },\n    "discount_amount": {\n        "amount": 10.0,\n        "currency": "EGP"\n    },\n    "community_id": "xL4rPB7", \n    "paid": false, \n    "tags": [ \n        {\n            "id": 1,\n            "name": "test-checkoutpage"\n        }\n    ],\n    "payment_methods": [ \n        "CARD",\n        "FAWRY"\n    ],\n    "vat_percentage": 5.0, \n    "expiry_date": "2025-05-31", \n    "minimum_days_between_payments": 30, \n "custom_fields": [\n    {\n      "field_label": "test label1",\n      "field_type": "TEXT"\n    },\n    {\n      "field_label": "check example",\n      "field_type": "CHECKBOX"\n    },\n    {\n      "field_label": "number example",\n      "field_type": "NUMBER",\n      "required": false\n    },\n    {\n      "field_label": "drop down example",\n      "field_type": "DROPDOWNLIST",\n      "field_choices": "c1,c2,c3",\n      "required": true\n    }\n  ],\n    "send_by_email": true, \n    "send_by_sms": true, \n    "redirect_url": "https://webhook.site/90b597de-669b-499a-a595-423054d9d46d",\n    "callback_url": "https://webhook.site/90b597de-669b-499a-a595-423054d9d46d"\n}\n'))),Object(r.a)(l.a,{value:"response",mdxType:"TabItem"},Object(r.a)("pre",null,Object(r.a)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'{\n    "status": {\n        "code": 201,\n        "message": "success",\n        "errors": []\n    },\n    "data": {\n        "success": true,\n        "merchant_id": "xL4rPB7",\n        "payment_id": "1BlbR48",\n        "payment_link": "https://staging-iframe.xpay.app/i/community/xL4rPB7/direct-order/1BlbR48",\n        "message": "Direct order created successfully. SMS and email notifications sent."\n    },\n    "count": null,\n    "next": null,\n    "previous": null\n}\n')))),Object(r.a)("h3",{id:"recurring-payment"},"Recurring Payment"),Object(r.a)("p",null,"\u200bJust ",Object(r.a)("a",Object(n.a)({parentName:"p"},{href:"#example"}),"follow the example above")," and don't forget to include the recurring payment paramaters"),Object(r.a)("h2",{id:"payment-options"},"Payment Options"),Object(r.a)("p",null,"There are four payment options available at the moment"),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"card"),Object(r.a)("li",{parentName:"ul"},"kiosk (aman)"),Object(r.a)("li",{parentName:"ul"},"fawry (both kiosk and fawryPay)"),Object(r.a)("li",{parentName:"ul"},"mobile wallets"),Object(r.a)("li",{parentName:"ul"},"valU")),Object(r.a)("h2",{id:"custom-fields"},"Custom Fields"),Object(r.a)("p",null,"If you wish to request extra data from user during paymner, you can send custom fields array.\neach field in custom fields array contains:"),Object(r.a)("table",null,Object(r.a)("thead",{parentName:"table"},Object(r.a)("tr",{parentName:"thead"},Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Property name"),Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Value"),Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"))),Object(r.a)("tbody",{parentName:"table"},Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"field_label"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"label that will appears to the customer on payment")),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"field_type"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"field type: TEXT, NUMBER, CHECKBOX or DROPDOWNLIST")),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"required"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"boolean"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"optional parameter indicates if the field is mandatory")),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"field_choices"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"only used in case of DROPDOWNLIST (comma separated values of the drop down list)")))),Object(r.a)("h3",{id:"example-1"},"Example"),Object(r.a)("h3",{id:"request-body-1"},"Request body"),Object(r.a)("pre",null,Object(r.a)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'{\n  ....\n  "custom_fields": [\n    {\n      "field_label": "test label1",\n      "field_type": "TEXT"\n    },\n    {\n      "field_label": "check example",\n      "field_type": "CHECKBOX"\n    },\n    {\n      "field_label": "number example",\n      "field_type": "NUMBER",\n      "required": false\n    },\n    {\n      "field_label": "drop down example",\n      "field_type": "DROPDOWNLIST",\n      "field_choices": "c1,c2,c3",\n      "required": true\n    }\n  ]\n  ....\n}\n')),Object(r.a)("h3",{id:"redirect-url"},"Redirect Url"),Object(r.a)("p",null,"if it is assigned then  once the payment is completed a redirect to the url will happen and will contain the following as query paramaters:"),Object(r.a)("table",null,Object(r.a)("thead",{parentName:"table"},Object(r.a)("tr",{parentName:"thead"},Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Property name"),Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Value"),Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"))),Object(r.a)("tbody",{parentName:"table"},Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"total_amount_piasters"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"float"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"transaction amount in piasters")),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"total_amount"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"float"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"transaction amount")),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"transaction_uuid"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"transaction UUID in XPay system")),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"transaction_status"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"transaction status")))),Object(r.a)("p",null,"and if there iscustom fields then it will be included in query parameters"),Object(r.a)("h3",{id:"callback-url"},"Callback url"),Object(r.a)("p",null,"If it is assigned, a POST request will be send after the customer pay the direct order with json body that includes:"),Object(r.a)("table",null,Object(r.a)("thead",{parentName:"table"},Object(r.a)("tr",{parentName:"thead"},Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Property name"),Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Value"),Object(r.a)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"))),Object(r.a)("tbody",{parentName:"table"},Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"total_amount_piasters"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"float"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"transaction amount in piasters")),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"total_amount"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"float"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"transaction amount")),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"transaction_uuid"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"transaction UUID in XPay system")),Object(r.a)("tr",{parentName:"tbody"},Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"transaction_status"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.a)("td",Object(n.a)({parentName:"tr"},{align:null}),"transaction status")))),Object(r.a)("p",null,"and if there is custom fields then it will be included in the request json body."),Object(r.a)("p",null,"The following is an example of the parametes sent to callback url:"),Object(r.a)("pre",null,Object(r.a)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'{\n  "message": "SportingClub Monthly rent callback", // message describes the callback\n  "member_id": null,\n  "payment_id": "W29gzjQ", // Direct order\'s unique id\n  "merchant_id": "xL4rPB7", // Merchant id\n  "test label1": "",//custom field\n  "total_amount": 99.99,\n  "check example": true,//custom field\n  "number example": "",//custom field\n  "transaction_id": "0901eddd-f71c-4f31-81a9-f03d08c328b5",\n  "drop down example": "c2",//custom field\n  "transaction_status": "SUCCESSFUL",\n  "total_amount_piasters": 9999\n}\n')))}o.isMDXComponent=!0}}]);