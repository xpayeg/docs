(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{71:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return l})),a.d(t,"metadata",(function(){return i})),a.d(t,"rightToc",(function(){return c})),a.d(t,"default",(function(){return o}));var n=a(2),b=a(6),r=(a(0),a(77)),l=(a(86),a(87),{id:"subscription",title:"Subscription"}),i={unversionedId:"subscription",id:"subscription",isDocsHomePage:!1,title:"Subscription",description:"One of the available payment tools that XPay offers is Recurring payments or Subscriptions.",source:"@site/docs\\subscription.mdx",slug:"/subscription",permalink:"/docs/subscription",version:"current",sidebar:"docs",previous:{title:"Transaction endpoint",permalink:"/docs/transactions"},next:{title:"Postman Collection",permalink:"/docs/postman"}},c=[{value:"How it works",id:"how-it-works",children:[]},{value:"Create Subscription",id:"create-subscription",children:[{value:"URLs",id:"urls",children:[]},{value:"Parameters",id:"parameters",children:[]},{value:"Authentication",id:"authentication",children:[]},{value:"Request body",id:"request-body",children:[]},{value:"Example",id:"example",children:[]}]},{value:"Log Subscription bills",id:"log-subscription-bills",children:[{value:"URLs",id:"urls-1",children:[]},{value:"Parameters",id:"parameters-1",children:[]},{value:"Authentication",id:"authentication-1",children:[]},{value:"Example",id:"example-1",children:[]}]},{value:"Subscription bill object",id:"subscription-bill-object",children:[]},{value:"Subscription object",id:"subscription-object",children:[]},{value:"Pay a Subscription bill",id:"pay-a-subscription-bill",children:[{value:"URLs",id:"urls-2",children:[]},{value:"Parameters",id:"parameters-2",children:[]},{value:"Authentication",id:"authentication-2",children:[]},{value:"Request body",id:"request-body-1",children:[]},{value:"Example",id:"example-2",children:[]}]},{value:"Cancel Subscription",id:"cancel-subscription",children:[{value:"URLs",id:"urls-3",children:[]},{value:"Parameters",id:"parameters-3",children:[]},{value:"Authentication",id:"authentication-3",children:[]},{value:"Request body",id:"request-body-2",children:[]},{value:"Example",id:"example-3",children:[]}]}],s={rightToc:c};function o(e){var t=e.components,a=Object(b.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},s,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"One of the available payment tools that XPay offers is Recurring payments or Subscriptions."),Object(r.b)("p",null,"If your service includes subscription based payments or any other form of recurring payments,\nyou can use our endpoints to create Recurring payments that can be used to charge your user\na fixed amount every set period of time with optional end date and the ability to cancel a subscription at anytime."),Object(r.b)("p",null,"XPay Subscription endpoints allows you to:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Create a recurring payment (subscription)"),Object(r.b)("li",{parentName:"ol"},"Log all subscription bills with option to filter paid and unpaid bills"),Object(r.b)("li",{parentName:"ol"},"Pay for subscribtion bill/s"),Object(r.b)("li",{parentName:"ol"},"Cancel subscription")),Object(r.b)("h2",{id:"how-it-works"},"How it works"),Object(r.b)("p",null,"When you create a subscription payment it starts generating bills for each period from the start date depending on the current date\nand an optional end date."),Object(r.b)("p",null,"For example, if you create a subscription with the start date of the current date and specify a subscription period of 30 days,\nit will generate a subscription bill with the current date as the due date and will generate another bill automatically every 30 days."),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"First subscription bill payment have to be requested manually,\nafterwards the user will be charged automatically every subscription period."))),Object(r.b)("p",null,"To create a subscription payment and start billing your user follow the following steps:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"#create-subscription"}),"Create Subscription")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"#log-subscription-bills"}),"Log Subscription bills")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"#pay-a-subscription-bill"}),"Pay Subscription bill"))),Object(r.b)("h2",{id:"create-subscription"},"Create Subscription"),Object(r.b)("h3",{id:"urls"},"URLs"),Object(r.b)("h4",{id:"testing-server"},"Testing server:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"POST https://staging.xpay.app/api/subscriptions/\n")),Object(r.b)("h4",{id:"live-server"},"Live server:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"POST https://community.xpay.app/api/subscriptions/\n")),Object(r.b)("h3",{id:"parameters"},"Parameters"),Object(r.b)("p",null,"Do not supply any parameters."),Object(r.b)("h3",{id:"authentication"},"Authentication"),Object(r.b)("p",null,"Supply your API key in the request header"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),'"x-api-key" : string\n')),Object(r.b)("h3",{id:"request-body"},"Request body"),Object(r.b)("h4",{id:"properties"},"Properties"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Property name"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Type"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Required"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Notes"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"name"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"True"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"your recurring payment name"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"amount"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"float"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"True"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Fixed service/bill cost"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"start_date"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"True"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"When do you want to start billing your user?"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),'Format: "year-month-day", ex: "2020-9-1"')),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"period"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"number"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"True"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The interval of which you bill your user ",Object(r.b)("strong",{parentName:"td"},"in days")),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ex: 10")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"member_id"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Optional"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Membership ID of your user"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"if you choose to to not supply an ID, one will be generated and sent with the response")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"community_id"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"True"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ID that is unique to your community"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"end_date"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Optional"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"If you want to stop billing your user on on a certain date, you can supply an end date"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),'ex: "2021-9-1"')))),Object(r.b)("h3",{id:"example"},"Example"),Object(r.b)("p",null,"The following example uses Axios which is a Promise based HTTP client for the browser and node.js"),Object(r.b)("a",{target:"_blank",href:"https://github.com/axios/axios"},"Axios Github repo"),Object(r.b)("h4",{id:"installing"},"installing"),Object(r.b)("p",null,"Using npm:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"$ npm install axios\n")),Object(r.b)("p",null,"Using jsDelivr CDN:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),'<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"><\/script>\n')),Object(r.b)("p",null,"Create a new subscription"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),'axios({\n  method: "post",\n  url: "https://staging.xpay.app/api/subscriptions/",\n  data: {\n    name: "VIP Membership",\n    amount: 1500,\n    start_date: "2020-11-1",\n    period: 1,\n    member_id: "69",\n    community_id: "m2J7eBK",\n    end_date: "2020-11-30",\n  },\n  headers: {\n    "x-api-key": "Cce74Y3B.J0P4tItq7hGu2ddhCB0WF5ND1eTubkpT",\n  },\n})\n  .then((response) => {\n    console.log(response.data.data);\n  })\n  .catch((e) => {\n    console.log(e.response.data.status);\n  });\n')),Object(r.b)("p",null,"log output"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'{\n  "id": 1593,\n  "name": "VIP Membership",\n  "amount": "1500.00",\n  "start_date": "2020-11-01",\n  "end_date": "2020-11-30",\n  "period": 1,\n  "community_id": "m2J7eBK",\n  "member_id": "69"\n}\n')),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"If you try to run the above code in your client you will get an error saying that the member id is used before,\nthis is because subscriptions are linked to membership ids and the same community can't have duplicate membership ids."),Object(r.b)("p",{parentName:"div"},"Try changing the value of the member_id randomly till it work."))),Object(r.b)("h2",{id:"log-subscription-bills"},"Log Subscription bills"),Object(r.b)("p",null,"This endpoint returns all the bills generated for a subscription in the form of an array of ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#bill-object"}),"bill object")),Object(r.b)("h3",{id:"urls-1"},"URLs"),Object(r.b)("h4",{id:"testing-server-1"},"Testing server:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"GET https://staging.xpay.app/api/subscriptions/bills\n")),Object(r.b)("h4",{id:"productionlive-server"},"Production(Live) server:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"GET https://community.xpay.app/api/subscriptions/bills\n")),Object(r.b)("h3",{id:"parameters-1"},"Parameters"),Object(r.b)("h4",{id:"query-parameters"},"Query parameters"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Property name"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Type"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Required"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Notes"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"member_id"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"True"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Membership ID of your user"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"it is the same id you supplied while creating a subscription or the one that was created automatically for you")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"community_id"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"True"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ID that is unique to your community"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"paid"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Optional"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Filter the result by paid / unpaid subscription bills"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Takes values of False, false, True, true, 1, 0, yes, no")))),Object(r.b)("h3",{id:"authentication-1"},"Authentication"),Object(r.b)("p",null,"Supply your API key in the request header"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),'"x-api-key" : string\n')),Object(r.b)("h3",{id:"example-1"},"Example"),Object(r.b)("p",null,"The following example uses Axios which is a Promise based HTTP client for the browser and node.js"),Object(r.b)("a",{target:"_blank",href:"https://github.com/axios/axios"},"Axios Github repo"),Object(r.b)("h4",{id:"installing-1"},"installing"),Object(r.b)("p",null,"Using npm:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"$ npm install axios\n")),Object(r.b)("p",null,"Using jsDelivr CDN:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),'<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"><\/script>\n')),Object(r.b)("p",null,"Log all generated bills for a subscription"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),'axios({\n  method: "get",\n  url:\n    "https://staging.xpay.app/api/subscriptions/bills?member_id=69&community_id=m2J7eBK",\n  headers: {\n    "x-api-key": "Cce74Y3B.J0P4tItq7hGu2ddhCB0WF5ND1eTubkpT",\n  },\n})\n  .then((response) => {\n    console.log(response.data.data);\n  })\n  .catch((e) => {\n    console.log(e.response.data.status);\n  });\n')),Object(r.b)("p",null,"log output"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'[{\n  amount: "1500.00",\n  created: "2020-11-03T11:12:46.183655+02:00",\n  due_date: "2020-11-30",\n  end_date: "2020-12-01",\n  id: 1795,\n  name: "VIP Membership - 2020-11-30",\n  paid: false,\n  start_date: "2020-11-30",\n  subscription: {\n    amount: "1500.00",\n    community_id: "m2J7eBK",\n    end_date: "2020-11-30",\n    id: 1593,\n    member_id: "69",\n    name: "VIP Membership",\n    period: 1,\n    start_date: "2020-11-01"\n  },\n  total: {\n    grand_total_amount: 1500,\n    grand_total_amount_currency: "EGP"\n  }\n},\n...\n]\n')),Object(r.b)("h2",{id:"subscription-bill-object"},"Subscription bill object"),Object(r.b)("p",null,"A subscription bill is represented by the following attributes:"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Property name"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Type"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Notes"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"amount"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Fixed service/bill cost"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"created"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"DateTime stamp of the bill creation date and time"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"due_date"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Subscription bill due date"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"end_date"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"End date of the subscription bill period"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"id"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"number"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Subscription bill ID"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"name"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Subscription bill name"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"paid"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"boolean"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Bill Payment status"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"start_date"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Start billing date of the subscription bill"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"total.grand_total_amount"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"number"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The total amount of bill including fess (if any)"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"total.grand_total_amount_currency"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Bill amount currency"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))))),Object(r.b)("h2",{id:"subscription-object"},"Subscription object"),Object(r.b)("p",null,"A subscription is represented by the following attributes:"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Property name"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Type"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Notes"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"amount"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Fixed service/bill cost"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"community_id"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ID that is uniques to your community"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"end_date"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"End date of the subscription bill period"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"id"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"number"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Subscription ID"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"member_id"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Membership ID of your user"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"name"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Subscription name"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"period"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"number"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The interval of which you bill your user ",Object(r.b)("strong",{parentName:"td"},"in days")),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ex: 10")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"start_date"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Start billing date of the subscription bill"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))))),Object(r.b)("h2",{id:"pay-a-subscription-bill"},"Pay a Subscription bill"),Object(r.b)("h3",{id:"urls-2"},"URLs"),Object(r.b)("h4",{id:"testing-server-2"},"Testing server:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"POST https://staging.xpay.app/api/v1/payments/pay/bills\n")),Object(r.b)("h4",{id:"productionlive-server-1"},"Production(Live) server:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"POST https://community.xpay.app/api/v1/payments/pay/bills\n")),Object(r.b)("h3",{id:"parameters-2"},"Parameters"),Object(r.b)("p",null,"Do not supply any parameters."),Object(r.b)("h3",{id:"authentication-2"},"Authentication"),Object(r.b)("p",null,"Supply your API key in the request header"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),'"x-api-key" : string\n')),Object(r.b)("h3",{id:"request-body-1"},"Request body"),Object(r.b)("h4",{id:"properties-1"},"Properties"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Property name"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Value"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Notes"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"community_id"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ID that is uniques to your community"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"currency"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Currency"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Only 'EGP' is supported currently")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"pay_using"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"user payment method"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Only card payments are supported")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"billing_data.name"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"user first and last name"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Must contain first and last name in ",Object(r.b)("strong",{parentName:"td"},"english letters")," with space between them.")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"billing_data.email"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"user email"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"billing_data.phone_number"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"user phone number"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("strong",{parentName:"td"},"must contain country code")," prefixed")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"amount"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"float"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Total Amount of bills to pay"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Make sure to calculate the sum of the grand_total_amount value of the bills supplied in the ids parameter")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ids"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string","[number]"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Ids of the bills to pay"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"You can supply only one id in case of first payment")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"membership_id"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Membership ID of your user"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"It is the same id you supplied while creating a subscription or the one that was created automatically for you")))),Object(r.b)("h3",{id:"example-2"},"Example"),Object(r.b)("p",null,"the following example uses Axios which is a Promise based HTTP client for the browser and node.js"),Object(r.b)("a",{target:"_blank",href:"https://github.com/axios/axios"},"Axios Github repo"),Object(r.b)("h4",{id:"installing-2"},"installing"),Object(r.b)("p",null,"Using npm:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"$ npm install axios\n")),Object(r.b)("p",null,"Using jsDelivr CDN:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),'<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"><\/script>\n')),Object(r.b)("p",null,"Pay a subscription bill"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),'axios({\n  method: "post",\n  url: "https://staging.xpay.app/api/v1/payments/pay/bills",\n  data: {\n    billing_data: {\n      name: "John doe",\n      email: "j.doe@test.com",\n      phone_number: "+201111111111",\n    },\n    amount: 1500,\n    currency: "EGP",\n    community_id: "m2J7eBK",\n    pay_using: "card",\n    ids: [1766],\n    membership_id: "69",\n  },\n  headers: {\n    "x-api-key": "Cce74Y3B.J0P4tItq7hGu2ddhCB0WF5ND1eTubkpT",\n  },\n})\n  .then((data) => {\n    console.log(data.data.data);\n    const iframeUrl = data.data.data.iframe_url;\n  })\n  .catch((e) => {\n    console.log(e.response.data.status);\n  });\n')),Object(r.b)("p",null,"log output"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'{\n  "iframe_url": "https://staging-payment.xpay.app/core/payment_iframe/2344/",\n  "transaction_id": 4294,\n  "transaction_status": "PENDING",\n  "transaction_uuid": "4a2e4975-be42-497e-a3c5-49b04abc830b",\n  "message": null,\n  "bill_reference": null,\n  "bm_session": null\n}\n')),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"If you try to follow the link in the log ouput example it will show you a successful operation message\nbecause it have already been paid."),Object(r.b)("p",{parentName:"div"},"You can change the values of the request body, for example, supply another bill ids based on the previous examples."))),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"you can either redirect your user to the link returned inside the ",Object(r.b)("inlineCode",{parentName:"p"},"iframe_url")," or embed it in your app.\nThis url contains the credit card form in which the user enters his credit card information"))),Object(r.b)("h2",{id:"cancel-subscription"},"Cancel Subscription"),Object(r.b)("p",null,"Wether you want to stop billing the user or the user wishes to end his subscription to your services,\nyou can easily cancel a subscription using cancel subscription endpoint"),Object(r.b)("p",null,"When you cancel a subscription, Xpay system will stop generating new bills for this subscription\nand stop billing the user for any future bills that may have been already generated."),Object(r.b)("h3",{id:"urls-3"},"URLs"),Object(r.b)("h4",{id:"testing-server-3"},"Testing server:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"POST https://staging.xpay.app/api/subscriptions/{{member_id}}/cancel\n")),Object(r.b)("h4",{id:"productionlive-server-2"},"Production(Live) server:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"POST https://community.xpay.app/api/subscriptions/{{member_id}}/cancel\n")),Object(r.b)("h3",{id:"parameters-3"},"Parameters"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Property name"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Value"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Notes"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"subscription_id"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Subscription ID that you wish to cancel"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))))),Object(r.b)("h3",{id:"authentication-3"},"Authentication"),Object(r.b)("p",null,"Supply your API key in the request header"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),'"x-api-key" : string\n')),Object(r.b)("h3",{id:"request-body-2"},"Request body"),Object(r.b)("h4",{id:"properties-2"},"Properties"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Property name"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Type"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Required"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Notes"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"community_id"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"True"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ID that is unique to your community"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}))))),Object(r.b)("h3",{id:"example-3"},"Example"),Object(r.b)("p",null,"The following example uses Axios which is a Promise based HTTP client for the browser and node.js"),Object(r.b)("a",{target:"_blank",href:"https://github.com/axios/axios"},"Axios Github repo"),Object(r.b)("h4",{id:"installing-3"},"installing"),Object(r.b)("p",null,"Using npm:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"$ npm install axios\n")),Object(r.b)("p",null,"Using jsDelivr CDN:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),'<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"><\/script>\n')),Object(r.b)("p",null,"Create a new subscription"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),'const subscription_id = "put your subscription id here";\naxios({\n  method: "post",\n  url: `https://staging.xpay.app/api/subscriptions/${subscription_id}/cancel/`,\n  data: {\n    community_id: "m2J7eBK",\n  },\n  headers: {\n    "x-api-key": "Cce74Y3B.J0P4tItq7hGu2ddhCB0WF5ND1eTubkpT",\n  },\n})\n  .then((response) => {\n    if (response.status == 200) {\n      console.log("Subscription Canceled!");\n    }\n  })\n  .catch((e) => {\n    console.log(e.response.data.status);\n  });\n')),Object(r.b)("p",null,"log output"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'"Subscription Canceled!"\n')))}o.isMDXComponent=!0},77:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return d}));var n=a(0),b=a.n(n);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,b=function(e,t){if(null==e)return{};var a,n,b={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(b[a]=e[a]);return b}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(b[a]=e[a])}return b}var s=b.a.createContext({}),o=function(e){var t=b.a.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=o(e.components);return b.a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return b.a.createElement(b.a.Fragment,{},t)}},j=b.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,l=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),p=o(a),j=n,d=p["".concat(l,".").concat(j)]||p[j]||u[j]||r;return a?b.a.createElement(d,i(i({ref:t},s),{},{components:a})):b.a.createElement(d,i({ref:t},s))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,l=new Array(r);l[0]=j;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:n,l[1]=i;for(var s=2;s<r;s++)l[s]=a[s];return b.a.createElement.apply(null,l)}return b.a.createElement.apply(null,a)}j.displayName="MDXCreateElement"},81:function(e,t,a){"use strict";function n(e){var t,a,b="";if("string"==typeof e||"number"==typeof e)b+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(a=n(e[t]))&&(b&&(b+=" "),b+=a);else for(t in e)e[t]&&(b&&(b+=" "),b+=t);return b}t.a=function(){for(var e,t,a=0,b="";a<arguments.length;)(e=arguments[a++])&&(t=n(e))&&(b&&(b+=" "),b+=t);return b}},83:function(e,t,a){"use strict";var n=a(0),b=a(84);t.a=function(){const e=Object(n.useContext)(b.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},84:function(e,t,a){"use strict";var n=a(0);const b=Object(n.createContext)(void 0);t.a=b},86:function(e,t,a){"use strict";var n=a(0),b=a.n(n),r=a(83),l=a(81),i=a(47),c=a.n(i);const s=37,o=39;t.a=function(e){const{block:t,children:a,defaultValue:i,values:p,groupId:u,className:j}=e,{tabGroupChoices:d,setTabGroupChoices:O}=Object(r.a)(),[m,g]=Object(n.useState)(i),[h,N]=Object(n.useState)(!1);if(null!=u){const e=d[u];null!=e&&e!==m&&p.some((t=>t.value===e))&&g(e)}const y=e=>{g(e),null!=u&&O(u,e)},v=[],f=e=>{e.metaKey||e.altKey||e.ctrlKey||N(!0)},x=()=>{N(!1)};return Object(n.useEffect)((()=>(window.addEventListener("keydown",f),window.addEventListener("mousedown",x),()=>{window.removeEventListener("keydown",f),window.removeEventListener("mousedown",x)})),[]),b.a.createElement("div",null,b.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(l.a)("tabs",{"tabs--block":t},j)},p.map((({value:e,label:t})=>b.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":m===e,className:Object(l.a)("tabs__item",c.a.tabItem,{"tabs__item--active":m===e}),style:h?{}:{outline:"none"},key:e,ref:e=>v.push(e),onKeyDown:e=>{((e,t,a)=>{switch(a.keyCode){case o:((e,t)=>{const a=e.indexOf(t)+1;e[a]?e[a].focus():e[0].focus()})(e,t);break;case s:((e,t)=>{const a=e.indexOf(t)-1;e[a]?e[a].focus():e[e.length-1].focus()})(e,t)}})(v,e.target,e),f(e)},onFocus:()=>y(e),onClick:()=>{y(e),N(!1)},onPointerDown:()=>N(!1)},t)))),b.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},n.Children.toArray(a).filter((e=>e.props.value===m))[0]))}},87:function(e,t,a){"use strict";var n=a(0),b=a.n(n);t.a=function(e){return b.a.createElement("div",null,e.children)}}}]);